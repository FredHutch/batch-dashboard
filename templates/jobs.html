{% extends "layout.html" %}
{% block title %}Jobs - Dashboard{% endblock %}
{% block pagejs %}
<script type="text/javascript" charset="utf8" src="/js/dataTables.buttons.min.js"></script>
<script type="text/javascript" charset="utf8" src="/js/buttons.flash.min.js"></script>
<script type="text/javascript" charset="utf8"
  src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
<script type="text/javascript" charset="utf8"
  src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/pdfmake.min.js"></script>
<script type="text/javascript" charset="utf8"
  src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/vfs_fonts.js"></script>
<script type="text/javascript" charset="utf8" src="/js/buttons.html5.min.js"></script>
<script type="text/javascript" charset="utf8" src="/js/buttons.print.min.js"></script>
<script type="text/javascript" charset="utf8" src="/js/buttons.bootstrap.js"></script>
<!-- FIXME eventually remove the timestamp bit from here: -->
<script type="text/javascript" charset="utf8" src="/js/common.js"></script>
<script type="text/javascript">
  $(function() {
    $("#job_table").DataTable();
  });
</script>
{% endblock %}
{% block content %}

<!-- default value for display is 'inline' -->
<button id="myButton" style="display: none;">pressme</button>

<div id="message"
  style="z-index: 9999; position : fixed; top: 0; right: 20%; padding: 5px 0 0 5px; height: 140px; width: 300px;">
  <div id="inner-message" style="display: none;" class="alert alert-info">
  </div>
</div>




<h2 id="jobs_header">Jobs</h2>

<div>
  <input id="job_id_search" placeholder="Search by Job ID" size="50"></input>
  <button id="job_id_search_button" type="button" class="btn btn-primary">Search</button>
</div>
<!--
<div style="float: right; padding: 5px;">
  <img id="reload_job_table" src="/images/refresh.png" height="30" width="30" title="reload data" />
</div>
-->

<table id="job_table" class="display" style="float: none">
  <thead>
    <tr>
      <th>Queue</th>
      <th>Job ID</th>
      <th>Job Name</th>
      <th>Status</th>
      <th>Created at</th>
      <th>Started at</th>
      <th>Run time</th>
    </tr>
  </thead>

  <tfoot>
    <tr>
      <th>
        <select id="queue_filter">
        </select>
      </th>
      <th></th>
      <th></th>
      <th>
        <select id="state_filter">
          <option>No Filter</option>
          {% for state in states %}
          <option>{{state}}</option>
          {% endfor %}
        </select>
      </th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </tfoot>
</table>


<div id="log" style="display: none;"></div>

<p>&nbsp;</p>

<p>
  <a target="_blank" href="https://fredhutch.github.io/aws-batch-at-hutch-docs/">[Documentation for AWS Batch at Fred
    Hutch]</a> |
  <a target="_blank" href="https://github.com/FredHutch/batch-dashboard">[Code/Report an Issue]</a>
</p>

{% endblock %}